<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Marks - Sri Vasavi NBA Engineering College</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar - Icon Only */
        .sidebar {
            width: 80px;
            background-color: #800000;
            color: white;
            height: 100vh;
            position: fixed;
            transition: all 0.3s;
            overflow-y: auto;
        }
        
        .sidebar-menu {
            padding: 20px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .sidebar-menu a {
            display: block;
            padding: 15px;
            color: white;
            text-decoration: none;
            text-align: center;
            margin-bottom: 10px;
            border-radius: 5px;
            transition: all 0.3s;
            width: 50px;
            height: 50px;
        }
        
        .sidebar-menu a:hover, .sidebar-menu a.active {
            background-color: #990000;
        }
        
        .sidebar-menu a i {
            font-size: 20px;
            display: block;
        }
        
        .sidebar-menu a span {
            font-size: 10px;
            display: block;
            margin-top: 5px;
        }
        
        /* Main Content */
        .main-content {
            margin-left: 80px;
            width: calc(100% - 80px);
            padding: 20px;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
        }
        
        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        /* Content */
        .content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .page-title {
            margin-bottom: 20px;
            color: #800000;
            border-bottom: 2px solid #800000;
            padding-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* Marks Table */
        .marks-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .marks-table th, .marks-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .marks-table th {
            background-color: #800000;
            color: white;
        }
        
        .marks-table tr:hover {
            background-color: #f5f5f5;
        }
        
        .marks-table .grade-A { color: #28a745; font-weight: bold; }
        .marks-table .grade-B { color: #17a2b8; font-weight: bold; }
        .marks-table .grade-C { color: #ffc107; font-weight: bold; }
        .marks-table .grade-D { color: #fd7e14; font-weight: bold; }
        .marks-table .grade-F { color: #dc3545; font-weight: bold; }
        
        /* Semester Tabs */
        .semester-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
            flex-wrap: wrap;
        }
        
        .semester-tab {
            padding: 10px 15px;
            cursor: pointer;
            background-color: #f1f1f1;
            margin-right: 5px;
            margin-bottom: 5px;
            border-radius: 5px 5px 0 0;
        }
        
        .semester-tab.active {
            background-color: #800000;
            color: white;
        }
        
        /* GPA Display */
        .gpa-display {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            border-left: 4px solid #800000;
        }
        
        .gpa-display h3 {
            color: #800000;
            margin-bottom: 10px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 60px;
            }
            
            .main-content {
                margin-left: 60px;
                width: calc(100% - 60px);
            }
            
            .sidebar-menu a span {
                display: none;
            }
            
            .semester-tabs {
                overflow-x: auto;
                white-space: nowrap;
                display: block;
                padding-bottom: 10px;
            }
            
            .semester-tab {
                display: inline-block;
                margin-bottom: 0;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-menu">
            <a href="#" class="active" title="Marks">
                <i class="fas fa-clipboard-list"></i>
                <span>Marks</span>
            </a>
            <a href="login.html" title="Logout">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </a>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h2>Student Portal</h2>
            <div class="user-info">
                <img src="https://via.placeholder.com/40" alt="User">
                <span id="studentNameDisplay">Loading...</span>
            </div>
        </div>
        
        <div class="content">
            <h2 class="page-title">
                <span>My Academic Performance</span>
                <span id="studentIdDisplay"></span>
            </h2>
            
            <div class="semester-tabs">
                <div class="semester-tab active">Semester 1</div>
                <div class="semester-tab">Semester 2</div>
                <div class="semester-tab">Semester 3</div>
                <div class="semester-tab">Semester 4</div>
                <div class="semester-tab">Semester 5</div>
                <div class="semester-tab">Semester 6</div>
                <div class="semester-tab">Semester 7</div>
                <div class="semester-tab">Semester 8</div>
            </div>
            
            <table class="marks-table">
                <thead>
                    <tr>
                        <th>Subject Code</th>
                        <th>Subject Name</th>
                        <th>Internal</th>
                        <th>External</th>
                        <th>Total</th>
                        <th>Grade</th>
                        <th>Credits</th>
                    </tr>
                </thead>
                <tbody id="marksTableBody">
                    <!-- Marks will be loaded here dynamically -->
                </tbody>
            </table>
            
            <div class="gpa-display">
                <h3>Semester Performance</h3>
                <div>SGPA: <strong id="sgpaDisplay">-</strong></div>
                <div>CGPA: <strong id="cgpaDisplay">-</strong></div>
            </div>
        </div>
    </div>

    <script>
        // Sample student data - in real app this would come from an API
        const studentData = {
            id: '22A81A05B4',
            name: 'Rahul Sharma',
            branch: 'CSE',
            semesterMarks: {
                1: [
                    { code: 'CS101', name: 'Programming Fundamentals', internal: 25, external: 60, total: 85, grade: 'A', credits: 4 },
                    { code: 'CS102', name: 'Data Structures', internal: 23, external: 55, total: 78, grade: 'B+', credits: 4 },
                    { code: 'MA101', name: 'Mathematics I', internal: 20, external: 65, total: 85, grade: 'A', credits: 3 },
                    { code: 'PH101', name: 'Physics', internal: 22, external: 58, total: 80, grade: 'A-', credits: 3 },
                    { code: 'HS101', name: 'Communication Skills', internal: 24, external: 62, total: 86, grade: 'A', credits: 2 }
                ],
                2: [
                    { code: 'CS201', name: 'Algorithms', internal: 24, external: 58, total: 82, grade: 'A-', credits: 4 },
                    { code: 'CS202', name: 'Database Systems', internal: 22, external: 60, total: 82, grade: 'A-', credits: 4 },
                    // ... more subjects
                ],
                // ... other semesters
            },
            cgpa: 8.7
        };

        // Get student ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const studentId = urlParams.get('studentId') || studentData.id;
        
        // Display student info
        document.getElementById('studentNameDisplay').textContent = studentData.name;
        document.getElementById('studentIdDisplay').textContent = studentId;
        
        // Load marks for a semester
        function loadMarksForSemester(semester) {
            const marksTableBody = document.getElementById('marksTableBody');
            marksTableBody.innerHTML = '';
            
            const semesterData = studentData.semesterMarks[semester] || [];
            
            if (semesterData.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `<td colspan="7" style="text-align: center;">No marks available for this semester</td>`;
                marksTableBody.appendChild(row);
                document.getElementById('sgpaDisplay').textContent = '-';
                return;
            }
            
            let totalCredits = 0;
            let totalGradePoints = 0;
            
            semesterData.forEach(subject => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${subject.code}</td>
                    <td>${subject.name}</td>
                    <td>${subject.internal}</td>
                    <td>${subject.external}</td>
                    <td>${subject.total}</td>
                    <td class="grade-${subject.grade[0]}">${subject.grade}</td>
                    <td>${subject.credits}</td>
                `;
                marksTableBody.appendChild(row);
                
                // Calculate grade points (simplified)
                const gradePoint = getGradePoint(subject.grade);
                totalGradePoints += gradePoint * subject.credits;
                totalCredits += subject.credits;
            });
            
            // Calculate SGPA
            const sgpa = totalCredits > 0 ? (totalGradePoints / totalCredits).toFixed(2) : 0;
            document.getElementById('sgpaDisplay').textContent = sgpa;
            document.getElementById('cgpaDisplay').textContent = studentData.cgpa.toFixed(2);
        }
        
        // Simplified grade point calculation
        function getGradePoint(grade) {
            switch(grade) {
                case 'A': return 10;
                case 'A-': return 9;
                case 'B+': return 8;
                case 'B': return 7;
                case 'B-': return 6;
                case 'C': return 5;
                case 'D': return 4;
                default: return 0;
            }
        }
        
        // Semester tab switching
        const tabs = document.querySelectorAll('.semester-tab');
        tabs.forEach(tab => {
            tab.addEventListener('click', function() {
                tabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                const semester = parseInt(this.textContent.replace('Semester ', ''));
                loadMarksForSemester(semester);
            });
        });
        
        // Initialize with first semester marks
        loadMarksForSemester(1);
    </script>
</body>
</html>